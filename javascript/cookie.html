<html>
    <body onload="checkCookie()">
        <script>
            function setCookie(cname,cvalue,time){
                var d = new Date();
                d.setTime(d.getTime()+(time*24*60*60*1000));
                var expires = "expires="+d.toGMTString();
                document.cookie = cname+"="+cvalue+"; "+expires;
                
            }

            function getCookie(username){
                var cookie = document.cookie.split(";");
                for(var i = 0; i<cookie.length; i++){
                    var a = cookie[i].trim();
                    if(a.indexOf(username)==0){
                        return a.substring(username.length,a.length);
                    }
                    else{
                        return "";
                    }
                }
            }

            function checkCookie(){
                var user = getCookie("username");
                if(user!=""){
                    alert("欢迎"+user+"再次访问");
                }else{
                    user =prompt("请输入你的名字","");
                    if(user!=""&&user!=null){
                        setCookie("username",user,30);
                    }
                    
                }

            }
        </script>
    </body>
</html>